- obs space:
    name: sst_metopc_l3u
    distribution:
      name: *obs_distribution
    obsdatain:
      obsfile: $(experiment_dir)/{{current_cycle}}/sst_metopc_l3u.{{window_begin}}.nc4
    obsdataout:
      obsfile: $(experiment_dir)/{{current_cycle}}/$(experiment).sst_metopc_l3u.{{window_begin}}.nc4
    simulated variables: [sea_surface_temperature]
  obs operator:
    name: Identity
  obs error:
    covariance model: diagonal
  _letkf: &letkf
    # note, this is only used for LETKF. If running with LETKF, the workflow
    # will append "<< : *letkf" to the end of this file
    obs localizations:
    - localization method: Horizontal Gaspari-Cohn
      lengthscale: 200e3
  obs filters:
  - *obs_land_mask
  - filter: Bounds Check
    minvalue: -2.0
    maxvalue: 36.0
  - filter: Background Check
    threshold: 5.0
  - filter: Domain Check
    where:
    - variable: {name: sea_surface_temperature@ObsError}
      minvalue: 0.001
    #  maxvalue: 0.5
    #action:
    #  name: inflate error
    #  inflation: 2.0
  ## Gaussian_Thinning is having problems with the LETKF, try again alter
  #- filter: Gaussian_Thinning
  #  horizontal_mesh:  1111.949266 #km
